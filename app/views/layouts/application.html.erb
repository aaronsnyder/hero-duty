<!DOCTYPE html>
<html>
<head>
  <title>HeroDuty</title>
  <link href='https://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
  <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track' => true %>
  <%= javascript_include_tag 'application', 'data-turbolinks-track' => true %>
  <%= csrf_meta_tags %>
</head>
<body>
  <nav class="navbar navbar-inverse">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="#">
        <span class="logo">HD</span>
      </a>
      <a class="navbar-brand" href="#">
        Hero Duty
      </a>      
    </div>
    <div class="navbar-text navbar-right">
        <% if current_user %>
          Logged in as 
          <% if current_user.first_name == 'Admin' %>
            <a href="#" class="navbar-link">
              <%= link_to current_user.first_name + " (admin panel)", admin_actions_path %>
            </a>
          <% else %>
            <a href="#" class="navbar-link">
              <%= link_to current_user.first_name + " (view my shifts)", employee_shifts_path(current_user.first_name) %>
            </a>
          <% end %>
          <div class="logLink">
            <%= link_to "Log out", log_out_path %>
          </div>          
        <% else %>        
          <div class="logLink">
            <%= link_to "Log in", log_in_path %>
          </div>
        <% end %>        
      </div>
    </div>
  </nav>
  
  <% if current_user and pending_shift_swaps %>
    <% pending_shift_swaps.each do |swap| %>
      <div class="alert alert-warning">
        <%= swap.original_shift.employee.first_name %> wants to swap shifts with you! 
        Their <%= swap.original_shift.on_call_date %> shift for your <%= swap.new_shift.on_call_date %> shift.
        <%= link_to "Approve Swap", approve_shift_swap_path(swap.id) %>
      </div>
    <% end %>
  <% end %>
  
  <div class="container">
    <% flash.each do |key, value| %>
      <div class="alert alert-<%= key %> alert-dismissible" role="alert">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <%= value %>
      </div>    
    <% end %>
    <%= yield %>
  </div>
</body>
</html>